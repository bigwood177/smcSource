;	(01) 09/29/95 DKS - MAKE PO FILES ISAM
SUBROUTINE CLSPO
NONE	,D
PLCNT	,D
;
RECORD PORHDR
	.INCLUDE 'DEF:RD151A.DEF'

RECORD PORLIN
	.INCLUDE 'DEF:RD152A.DEF'

RECORD
	BSMID	,D5
	HDRCNT	,D5,	00001
	LOKCTL	,D1
	READ	,D1,	0
	SRCCTL	,D1
	WRITE	,D1,	1
PROC
	NONE = 1
RDHDR,
	UNLOCK 1
	LOKCTL = 1
	XCALL IOS (1,PORHDR,READ,LOKCTL)
	IF (LOKCTL.EQ.2) RETURN
	IF (HPOSTS.EQ.'C'.OR.HPOSTS.EQ.'X') NONE =
	IF (HPOSTS.NE.'P') GO TO RDHDR
	
	LOKCTL = 1
	XCALL ISIO (2,PORLIN,HPONUM,READ,LOKCTL)
	IF (LOKCTL.NE.0) GOTO RDHDR
	IF (LINSTS.NE.'C'.AND.LINSTS.NE.'X') GO TO RDHDR
CHKLIN,
	LOKCTL = 1
	XCALL IOS (2,PORLIN,READ,LOKCTL)
	IF (LPONUM.NE.HPONUM)
	  BEGIN
	    CALL UPDHDR
	    GO TO RDHDR
	  END
	IF (LINSTS.NE.'C'.AND.LINSTS.NE.'X') GO TO RDHDR
	GO TO CHKLIN
UPDHDR,
	NONE =
	HPOSTS = 'D'
	LOKCTL = 1
	XCALL ISIO (1,PORHDR,PORKEY,WRITE,LOKCTL)
	RETURN
OUT,
	RETURN
